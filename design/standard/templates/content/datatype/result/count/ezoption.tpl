{* DO NOT EDIT THIS FILE! Use an override template instead. *}
{let contentobject_attribute_id=cond( $attribute|get_class|eq( 'ezinformationcollectionattribute' ),$attribute.contentobject_attribute_id, $attribute|get_class|eq( 'ezcontentobjectattribute' ),$attribute.id )
     contentobject_attribute=cond( $attribute|get_class|eq( 'ezinformationcollectionattribute' ), $attribute.contentobject_attribute, $attribute|get_class|eq( 'ezcontentobjectattribute' ),$attribute )
     total_count=fetch( content, collected_info_count, hash( object_attribute_id, $contentobject_attribute_id ) )
     item_counts=fetch( content,collected_info_count_list, hash( object_attribute_id, $contentobject_attribute_id  ) )
     poll_width=300}

{$contentobject_attribute.content.name}

<div class="content-poll-results">
<ul>

{section var=Options loop=$contentobject_attribute.content.option_list}
    {let item_count=0}
    {if is_set($item_counts[$Options.item.id])}
        {set item_count=$item_counts[$Options.item.id]}
    {/if}
    <li>
        <span class="option">{$Options.item.value} <span class="votes">({$:item_count})</span></span> <span class="value">{concat( div( mul( $:item_count, 100 ), $total_count ), '' )|extract_left( 5 )}%</span>

        <div class="resultblock"><div class="resultedge-start"><div class="resultedge-end"><div class="resultbox">
            <div class="resultbar" style="width: {concat( div( mul( $:item_count, 100 ), $total_count ), '' )|extract_left( 5 )}%;">
            <div class="result-divider">
            </div>
            </div>
        </div></div></div></div>
        
    </li>
    {/let}
{/section}

</ul>
</div>

{/let}
